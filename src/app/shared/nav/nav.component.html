<nav class="flex gap-6 items-center mt-2" dir="rtl">
  <button class="md:hidden p-2" (click)="toggleMenu()">
    <span class="text-2xl">â˜°</span>
  </button>

  <!-- Desktop Auth Buttons -->
  <section class="hidden md:flex gap-5">
    <ng-container *ngIf="!isLoggedIn; else loggedInButtons">
      <a
        routerLink="register"
        class="text-[#7F55E0] border border-[#7F55E0] bg-white px-5 py-2 rounded-2xl"
      >Register</a>
      <a
        routerLink="login"
        class="bg-[#7F55E0] text-white px-5 py-2 rounded-2xl"
      >Login</a>
    </ng-container>

    <ng-template #loggedInButtons>
      <a
       [routerLink]="dashboardPath"
        class="text-[#7F55E0] border border-[#7F55E0] bg-white px-5 py-2 rounded-2xl"
      >Dashboard</a>
      <button
        (click)="logout()"
        class="bg-[#7F55E0] text-white px-5 py-2 rounded-2xl"
      >Logout</button>
    </ng-template>
  </section>

  <!-- Desktop Navigation Links -->
  <section class="hidden md:flex gap-4">
  <div class="hover:border-b-2 pb-2 border-[#7F55E0]">
    <a 
      routerLink="/" 
      routerLinkActive="active-link" 
      [routerLinkActiveOptions]="{ exact: true }"
      class="pb-2"
    >Home</a>
  </div>
  <div class="hover:border-b-2 pb-2 border-[#7F55E0]">
    <a 
      routerLink="/course" 
      routerLinkActive="active-link" 
      class="pb-2"
    >Courses</a>
  </div>
  <div class="hover:border-b-2 pb-2 border-[#7F55E0]">
    <a 
      routerLink="/about" 
      routerLinkActive="active-link" 
      class="pb-2"
    >About Us</a>
  </div>
  <!-- <div class="hover:border-b-2 pb-2 border-[#7F55E0]">
    <a 
      routerLink="/contact" 
      routerLinkActive="active-link" 
      class="pb-2"
    >Contact</a>
  </div> -->
</section>


  <!-- Mobile Menu -->
  <section
    class="md:hidden absolute left-0 right-0 top-[70px] bg-white border-t-2 border-[#7F55E0] mt-2 z-10 flex flex-col justify-center items-center transition-all duration-500 ease-in-out transform"
    [class.max-h-0]="!isMenuOpen"
    [class.max-h-screen]="isMenuOpen"
    [class.overflow-hidden]="!isMenuOpen"
    [class.scale-y-0]="!isMenuOpen"
    [class.scale-y-100]="isMenuOpen"
    [class.origin-top]="true"
  >
    <div 
  *ngFor="let link of navLinks" 
  class="hover:border-b-2 pb-2 border-[#7F55E0] py-3 text-xl sm:py-2 sm:text-md"
>
  <a 
    [routerLink]="link.path" 
    routerLinkActive="active-link" 
    [routerLinkActiveOptions]="{ exact: true }"
    class="pb-2"
  >
    {{ link.label }}
  </a>
</div>


    <ng-container *ngIf="!isLoggedIn; else loggedInMobile">
      <div class="py-3">
        <a
          routerLink="register"
          class="text-[#7F55E0] border border-[#7F55E0] bg-white px-5 py-2 rounded-2xl"
        >Register</a>
      </div>
      <div class="py-3">
        <a
          routerLink="login"
          class="bg-[#7F55E0] text-white px-5 py-2 rounded-2xl"
        >Login</a>
      </div>
    </ng-container>

    <ng-template #loggedInMobile>
      <div class="py-3">
        <button
          (click)="logout()"
          class="bg-[#7F55E0] text-white px-5 py-2 rounded-2xl"
        >Logout</button>
      </div>
      <div class="py-3">
  <a  
    [routerLink]="dashboardPath"  
    class="text-[#7F55E0] border border-[#7F55E0] bg-white px-5 py-2 rounded-2xl" 
  >
    Dashboard
  </a>
</div>

    </ng-template>
  </section>
</nav>
