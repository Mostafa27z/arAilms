<nav class="flex gap-6 items-center justify-between mt-2 px-4" dir="rtl">
  <!-- زر فتح القائمة في الجوال -->
  <button class="md:hidden p-2" (click)="toggleMenu()">
    <span class="text-2xl">☰</span>
  </button>

  <!-- روابط التصفح في سطح المكتب -->
  <section class="hidden md:flex gap-4 items-center">
    <div class="hover:border-b-2 pb-2 border-[#7F55E0]">
      <a routerLink="/" routerLinkActive="active-link" [routerLinkActiveOptions]="{ exact: true }" class="pb-2">
        الرئيسية
      </a>
    </div>
    <div class="hover:border-b-2 pb-2 border-[#7F55E0]">
      <a routerLink="/course" routerLinkActive="active-link" class="pb-2">
        الدورات
      </a>
    </div>
    <div class="hover:border-b-2 pb-2 border-[#7F55E0]">
      <a routerLink="/about" routerLinkActive="active-link" class="pb-2">
        من نحن
      </a>
    </div>
    <!--
    <div class="hover:border-b-2 pb-2 border-[#7F55E0]">
      <a routerLink="/contact" routerLinkActive="active-link" class="pb-2">
        اتصل بنا
      </a>
    </div>
    -->
  </section>

  <!-- أزرار التوثيق في سطح المكتب -->
  <section class="hidden md:flex gap-5 items-center justify-end">
    <ng-container *ngIf="!isLoggedIn; else loggedInButtons">
      <a routerLink="register" class="text-[#7F55E0] border border-[#7F55E0] bg-white px-5 py-2 rounded-2xl">
        تسجيل
      </a>
      <a routerLink="login" class="bg-[#7F55E0] text-white px-5 py-2 rounded-2xl">
        تسجيل الدخول
      </a>
    </ng-container>

    <ng-template #loggedInButtons>
      <a [routerLink]="dashboardPath" class="text-[#7F55E0] border border-[#7F55E0] bg-white px-5 py-2 rounded-2xl">
        لوحة التحكم
      </a>
      <button (click)="logout()" class="bg-[#7F55E0] text-white px-5 py-2 rounded-2xl">
        تسجيل الخروج
      </button>
    </ng-template>
  </section>

  <!-- قائمة الجوال -->
  <section
    class="md:hidden absolute left-0 right-0 top-[70px] bg-white border-t-2 border-[#7F55E0] mt-2 z-10 flex flex-col justify-center items-center transition-all duration-500 ease-in-out transform"
    [class.max-h-0]="!isMenuOpen"
    [class.max-h-screen]="isMenuOpen"
    [class.overflow-hidden]="!isMenuOpen"
    [class.scale-y-0]="!isMenuOpen"
    [class.scale-y-100]="isMenuOpen"
    [class.origin-top]="true"
  >
    <div *ngFor="let link of navLinks" class="hover:border-b-2 pb-2 border-[#7F55E0] py-3 text-xl sm:py-2 sm:text-md">
      <a [routerLink]="link.path" routerLinkActive="active-link" [routerLinkActiveOptions]="{ exact: true }" class="pb-2">
        {{ link.label }}
      </a>
    </div>

    <ng-container *ngIf="!isLoggedIn; else loggedInMobile">
      <div class="py-3">
        <a routerLink="register" class="text-[#7F55E0] border border-[#7F55E0] bg-white px-5 py-2 rounded-2xl">
          تسجيل
        </a>
      </div>
      <div class="py-3">
        <a routerLink="login" class="bg-[#7F55E0] text-white px-5 py-2 rounded-2xl">
          تسجيل الدخول
        </a>
      </div>
    </ng-container>

    <ng-template #loggedInMobile>
      <div class="py-3">
        <button (click)="logout()" class="bg-[#7F55E0] text-white px-5 py-2 rounded-2xl">
          تسجيل الخروج
        </button>
      </div>
      <div class="py-3">
        <a [routerLink]="dashboardPath" class="text-[#7F55E0] border border-[#7F55E0] bg-white px-5 py-2 rounded-2xl">
          لوحة التحكم
        </a>
      </div>
    </ng-template>
  </section>
</nav>
